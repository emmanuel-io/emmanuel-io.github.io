<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Migration on emmanuel io</title>
    <link>https://emmanuel-io.github.io/fr/tags/migration/</link>
    <description>Recent content in Migration on emmanuel io</description>
    <generator>Hugo -- 0.147.0</generator>
    <language>fr-FR</language>
    <lastBuildDate>Thu, 01 May 2025 23:00:00 +0400</lastBuildDate>
    <atom:link href="https://emmanuel-io.github.io/fr/tags/migration/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Comment j&#39;ai migr√© un site WordPress vers un nouveau plan d&#39;h√©bergement et √©vit√© un prix de renouvellement √©lev√©</title>
      <link>https://emmanuel-io.github.io/fr/posts/wordpress-site-migration-hostinger-renewal-cost/</link>
      <pubDate>Thu, 01 May 2025 23:00:00 +0400</pubDate>
      <guid>https://emmanuel-io.github.io/fr/posts/wordpress-site-migration-hostinger-renewal-cost/</guid>
      <description>D√©couvrez comment migrer un site WordPress entre des plans d&amp;#39;h√©bergement, √©viter des frais de renouvellement √©lev√©s et r√©soudre des probl√®mes comme les pr√©fixes dans .htaccess causant des erreurs 500.</description>
      <content:encoded><![CDATA[<h2 id="contexte--la-d√©cision-de-migration">Contexte : La d√©cision de migration</h2>
<p>Face au co√ªt √©lev√© du renouvellement d&rsquo;un plan d&rsquo;h√©bergement, j&rsquo;ai d√ª faire un choix : soit payer pour une nouvelle ann√©e, soit d√©placer le site vers un plan plus abordable. Comme le site est plus un outil de <strong>branding</strong> pour son auteur qu&rsquo;une machine g√©n√©rant des revenus, l&rsquo;option la plus <strong>√©conomique</strong> s&rsquo;est impos√©e. Apr√®s tout, il ne s&rsquo;agissait pas de rentabilit√© ‚Äî mais de maintenir le site sans le fardeau des frais de renouvellement √©lev√©s.</p>
<p>√âtant impliqu√© dans ce projet <strong>pro bono</strong>, je cherchais des moyens de maintenir les co√ªts bas jusqu&rsquo;√† ce que l&rsquo;objectif ultime soit r√©alis√© : <strong>migrer tout vers Hugo</strong>. Cela demandera une <strong>planification minutieuse</strong> √©tant donn√© qu&rsquo;il y a plus de <strong>3 000 articles</strong> √† prendre en compte. Mais pour l&rsquo;instant, la priorit√© √©tait d&rsquo;√©viter de payer un prix √©lev√© de renouvellement tout en gardant le contr√¥le du site.</p>
<p>J&rsquo;ai donc opt√© pour <strong>migrer le site WordPress</strong> vers un plan d&rsquo;h√©bergement plus abordable. Ce n&rsquo;√©tait pas aussi simple que je l&rsquo;avais imagin√©, mais l&rsquo;objectif √©tait clair : d√©placer le site, <strong>√©conomiser sur les frais de renouvellement</strong>, et esp√©rer apprendre quelque chose en cours de route. üöÄ</p>
<hr>
<h2 id="√©tape-1--sauvegarde-la-m√©thode-facile">√âtape 1 : Sauvegarde, la m√©thode facile</h2>
<p>La premi√®re √©tape de la migration a √©t√© de sauvegarder l&rsquo;ensemble du site WordPress ‚Äî y compris les <strong>fichiers</strong> et la <strong>base de donn√©es</strong>. Pour cela, j&rsquo;ai profit√© des <strong>m√©thodes faciles</strong> propos√©es par Hostinger, qui offraient un moyen simple de cr√©er un fichier tar.gz pour l&rsquo;ensemble du site et une sauvegarde de la base de donn√©es via leur interface hPanel. Ces √©tapes √©taient simples et m&rsquo;ont fait gagner beaucoup de temps pour mettre en place les sauvegardes, le temps de me pr√©parer un caf√© ‚òï.</p>
<h2 id="√©tape-2--d√©fis-li√©s-au-t√©l√©chargement">√âtape 2 : D√©fis li√©s au t√©l√©chargement</h2>
<p>Le v√©ritable d√©fi est survenu lorsque j&rsquo;ai essay√© de t√©l√©charger le tarball que je venais de t√©l√©charger. Le fichier de <strong>30 Go</strong> √©tait bien trop volumineux pour √™tre t√©l√©charg√© en une seule fois via le client web : avec un temps estim√© de transfert de 8 heures ‚Äî une dur√©e beaucoup trop longue ‚Äî c&rsquo;√©tait tout simplement trop lent et, franchement, risqu√© de se fier √† cette m√©thode.<br>
Surtout avec une connexion √† <strong>1 Mo/s</strong>, probablement limit√©e par l&rsquo;interface web. üò§</p>
<p>C&rsquo;est √† ce moment que j&rsquo;ai v√©rifi√© si l&rsquo;acc√®s <strong>SFTP</strong> et <strong>SSH</strong> √©taient disponibles sur mon plan. Cela a √©t√© un v√©ritable <strong>tournant</strong> : cela m&rsquo;a donn√© beaucoup plus de contr√¥le sur le processus de transfert. Et j&rsquo;ai pu t√©l√©charger les fichiers √† <strong>deux fois la vitesse</strong> du client web. ‚ö°</p>
<p>Avec l&rsquo;acc√®s SSH en main, je me suis assur√© que les commandes <code>cat</code> et <code>tar</code> √©taient disponibles sur le serveur (on n&rsquo;est jamais trop s√ªr). Puis apr√®s avoir d√©coup√© mon archive en plusieurs fichiers, j&rsquo;ai pu t√©l√©charger les parties via SFTP et, une fois toutes les parties sur le serveur, j&rsquo;ai r√©assembl√© les fichiers dans le fichier tar.gz d&rsquo;origine avant de les extraire. Cette m√©thode a fourni plus de stabilit√© et de vitesse que de se fier √† l&rsquo;interface web.</p>
<p>R√©sum√© des √©tapes pour le t√©l√©chargement des fichiers :</p>
<ol>
<li>D√©couper l&rsquo;archive localement.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">split -b 1G large_backup.tar.gz large_backup_part_
</span></span></code></pre></div><ol start="2">
<li>
<p>T√©l√©charger les parties vers le nouvel h√©bergement en utilisant SFTP.</p>
</li>
<li>
<p><strong>SSH</strong> sur le nouveau serveur.</p>
</li>
<li>
<p>R√©assembler les parties.</p>
</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">cat large_backup_part_* &gt; large_backup.tar.gz
</span></span></code></pre></div><ol start="5">
<li>Extraire les fichiers.</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">tar -xzvf large_backup.tar.gz -C public_html
</span></span></code></pre></div><ol start="6">
<li>Enfin, d√©placer les fichiers extraits l√† o√π c&rsquo;est n√©cessaire.</li>
</ol>
<p><strong>Remarque</strong> : √Ä ce moment-l√†, je commen√ßais √† douter de ma d√©cision. Le temps que je passais ici aurait s√ªrement pu √™tre utilis√© ailleurs, peut-√™tre en payant le renouvellement et en gardant les choses simples. ü§î</p>
<h2 id="√©tape-3--la-migration-ou-comment-jai-tout-cass√©">√âtape 3 : La migration ou comment j&rsquo;ai tout cass√©</h2>
<p>Une fois les fichiers t√©l√©charg√©s sur le nouveau plan, l&rsquo;√©tape suivante √©tait la migration de la base de donn√©es. L&rsquo;importation de la base de donn√©es via <strong>phpMyAdmin</strong> s&rsquo;est tr√®s bien pass√©e, j&rsquo;ai simplement supprim√© toutes les tables existantes avant l&rsquo;importation, et voil√†. ‚úîÔ∏è</p>
<p>Passons maintenant √† la configuration de WordPress pour utiliser cette base en √©ditant <code>wp-config.php</code>.</p>
<ol>
<li>J&rsquo;ai mis √† jour les d√©tails de la base de donn√©es dans <code>wp-config.php</code> :</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-php" data-lang="php"><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_NAME&#39;</span><span class="p">,</span> <span class="s1">&#39;new_database_name&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_USER&#39;</span><span class="p">,</span> <span class="s1">&#39;new_database_user&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_PASSWORD&#39;</span><span class="p">,</span> <span class="s1">&#39;new_database_password&#39;</span><span class="p">);</span>
</span></span><span class="line"><span class="cl"><span class="nx">define</span><span class="p">(</span><span class="s1">&#39;DB_HOST&#39;</span><span class="p">,</span> <span class="s1">&#39;new_database_host&#39;</span><span class="p">);</span>
</span></span></code></pre></div><ol start="2">
<li>Mettre √† jour les URL du site dans la table <code>wp_options</code> de la base de donn√©es pour pointer vers le nouveau domaine :</li>
</ol>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-sql" data-lang="sql"><span class="line"><span class="cl"><span class="k">UPDATE</span><span class="w"> </span><span class="n">wp_options</span><span class="w"> </span><span class="k">SET</span><span class="w"> </span><span class="n">option_value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://yournewdomain.com&#39;</span><span class="w"> </span><span class="k">WHERE</span><span class="w"> </span><span class="n">option_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;siteurl&#39;</span><span class="w"> </span><span class="k">OR</span><span class="w"> </span><span class="n">option_name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;home&#39;</span><span class="p">;</span><span class="w">
</span></span></span></code></pre></div><h2 id="√©tape-4--le-probl√®me-htaccess---une-le√ßon-de-d√©pannage">√âtape 4 : Le probl√®me <code>.htaccess</code> - Une le√ßon de d√©pannage</h2>
<p>Tout allait bien jusqu&rsquo;ici. Mais lorsque j&rsquo;ai test√© le site, j&rsquo;ai rencontr√© un probl√®me.</p>
<p>C&rsquo;est l√† que les choses sont devenues int√©ressantes. Apr√®s avoir migr√© le site et effectu√© les tests, je me suis retrouv√© face √† une erreur <strong>500 serveur interne</strong>.<br>
Il s&rsquo;av√®re que mon fid√®le fichier <code>.htaccess</code> avait des r√®gles de <strong>pr√©fixage</strong>; merci au plugin <strong>Wordfence</strong> qui causait des conflits avec les redirections de WordPress.</p>
<p>Le plugin pr√©fixait le mauvais chemin, ce qui a conduit √† des redirections cass√©es. Un peu de fouille dans le fichier <code>.htaccess</code> a r√©v√©l√© le probl√®me.</p>
<p>Voici une version anonymis√©e de la section probl√©matique :</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-apache" data-lang="apache"><span class="line"><span class="cl"><span class="c"># Wordfence WAF</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;IfModule</span> <span class="s">LiteSpeed</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nb">php_value</span> auto_prepend_file &#39;/home/user-identifier/domains/politicothon.com/public_html/wordfence-waf.php&#39;
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/IfModule&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nt">&lt;IfModule</span> <span class="s">lsapi_module</span><span class="nt">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="nb">php_value</span> auto_prepend_file &#39;/home/user-identifier/domains/politicothon.com/public_html/wordfence-waf.php&#39;
</span></span><span class="line"><span class="cl"><span class="nt">&lt;/IfModule&gt;</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c"># FIN Wordfence WAF</span>
</span></span></code></pre></div><p><strong>La solution</strong> : J&rsquo;ai simplement comment√© les lignes d√©fectueuses, en m&rsquo;assurant que les redirections fonctionnaient correctement, puis j&rsquo;ai r√©initialis√© les modifications de <code>.htaccess</code> depuis le plugin. √áa a finalement fonctionn√©. üéâ</p>
<h2 id="√©tape-5--d√©placement-des-emails-et-autres-t√¢ches-impr√©vues">√âtape 5 : D√©placement des emails et autres t√¢ches impr√©vues</h2>
<p>Bien s√ªr, aucune migration n&rsquo;est compl√®te sans le d√©placement des emails. Heureusement, Hostinger a facilit√© ce processus.</p>
<h2 id="tests-finaux-et-ajustements">Tests finaux et ajustements</h2>
<p>Une fois que tout a √©t√© t√©l√©charg√©, configur√©, et que la plupart des probl√®mes ont √©t√© r√©solus, j&rsquo;ai effectu√© quelques v√©rifications finales :</p>
<ol>
<li><strong>Vider les permaliens</strong> dans WordPress : Cela a permis d&rsquo;assurer l&rsquo;absence de liens cass√©s.</li>
<li><strong>Tester le site</strong> : J&rsquo;ai visit√© manuellement le site pour v√©rifier que toutes les pages, publications et m√©dias √©taient intacts.</li>
<li><strong>V√©rifier les emails</strong> : J&rsquo;ai envoy√© et re√ßu quelques emails de test pour confirmer la r√©ussite de la migration. ‚úÖ</li>
</ol>
<hr>
<p>Conclusion : Le temps pass√© en valait-il la peine ?
En repensant √† la migration, c&rsquo;√©tait une exp√©rience d&rsquo;apprentissage. Bien s√ªr, j&rsquo;ai √©conomis√© sur le co√ªt du renouvellement, mais le temps pass√© √† r√©soudre des probl√®mes, d√©placer des fichiers, g√©rer les soucis de .htaccess et transf√©rer les emails m&rsquo;a probablement co√ªt√© plus en temps que simplement renouveler le plan.</p>
<p>Mais au final, j&rsquo;ai acquis une compr√©hension pr√©cieuse des configurations WordPress, du d√©pannage c√¥t√© serveur et de la gestion d&rsquo;h√©bergement. C&rsquo;est une le√ßon qui m&rsquo;aidera assur√©ment lors de futures migrations ‚Äî bien que la prochaine fois, je pourrais simplement payer le renouvellement et √©viter les tracas. Apr√®s tout, <strong>Le temps c&rsquo;est de l&rsquo;argent.</strong></p>
<p>√Ä venir : Migrer un site WordPress vers Hugo
Si la migration de WordPress √† WordPress a √©t√© correcte, la prochaine fois, je vais relever le d√©fi de passer de WordPress √† Hugo. Ce sera s√ªrement une aventure bien plus complexe ‚Äî et cette fois, je pourrais m√™me gagner plus de temps (ou d√©penser moins dans le processus !).</p>
<hr>
<p><strong>Le√ßon apprise</strong> : Parfois, la <strong>commodit√© de ne pas bouger</strong> se paye par le <strong>temps pass√©</strong> dans le processus. üòú</p>
]]></content:encoded>
    </item>
  </channel>
</rss>
